系统设计（爬虫，producer comsumer,typeahead）

整个互联网就是一个大表，url - > 网页内容（字符串）
怎么样得到这个表？ web crawler去爬整个url 
这个图就是url互相连接到对方的有向图
搜索引擎就是宽度优先这张图（见ppt），可以多线程，distributed。深度搜索坐不了这个事
一周要重新抓一次，人家网页更新了搜索结果也要更新

时间难点，一秒抓一百六十万个网页
空间难点，假设一个网页10k就有10个pb

其实就是实现一个多线程的宽度优先搜索，producer cosumer
从一个点开始把它内容存起来，再把里面包括的所有另外url放进队列

多线程共享资源
单台机器多线程爬虫的缺点
太多线程的缺点，线程切换的消耗很大，一个cpu多个核的时候一个时间只能运行一个线程，100个线程轮着来。
端口总共65535个，线程不能比这个数目还多。
单台机器带宽也有限制。